<!DOCTYPE html>
<html lang="en">
<head>
  <title>Officer Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background: #fff8e1; }
    html, body {
        height: 100%;
        display: flex;
        flex-direction: column;
        }

        main {
        flex: 1;
        }

    .card { border: none; background: #fff3cd; }
    h2 { color: #e67e22; }

    .btn-orange {
      background-color: #e67e22; color: white; border: none;
    }
    .btn-orange:hover { background-color: #ca6f1e; }

    .profile-img {
      width: 80px; height: 80px; border-radius: 50%; object-fit: cover;
      margin-bottom: 15px;
    }

    .navbar {
      background-color: #0d47a1;
    }
    .navbar-brand, .nav-link, .navbar-toggler {
      color: white !important;
    }
    .offcanvas {
      width: 280px;
    }
    .offcanvas a {
      display: block;
      padding: 10px;
      color: #333;
      text-decoration: none;
      border-radius: 6px;
    }
    .offcanvas a:hover {
      background-color: #f1f1f1;
    }
      footer {
  background-color: #0d47a1;
}
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg sticky-top">
  <div class="container-fluid">
    <!-- Dashboard menu button -->
    <button class="btn btn-light me-3" type="button" data-bs-toggle="offcanvas" data-bs-target="#officerSidebar">
      ‚ò∞ Dashboard Menu
    </button>
    <a class="navbar-brand fw-bold" href="/">E-Government Portal</a>
  </div>
</nav>

<!-- Main Dashboard Card -->
<div class="container mt-4">
  <div class="card shadow-lg p-4">
    <h2 class="text-center">Officer Dashboard</h2>
    <p class="text-center">Welcome! Here you can review and process citizen requests.</p>

    <!-- Officer Actions -->
    <div class="d-grid gap-2 mb-4">
      <a href="/officer/requests/pending" class="btn btn-warning">üìÇ Pending Requests</a>
      <a href="/officer/requests/approved" class="btn btn-orange">‚úÖ Approved Requests</a>
      <a href="/officer/requests/rejected" class="btn btn-danger">‚ùå Rejected Requests</a>
    </div>
  </div>
</div>

<!-- Sidebar / Offcanvas -->
<div class="offcanvas offcanvas-start" tabindex="-1" id="officerSidebar">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title">Officer Info</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
  </div>
  <div class="offcanvas-body text-center">
    <!-- Profile picture -->
    <img src="<%= officer.profile_pic || '/uploads/default-avatar.png' %>" class="profile-img" alt="Officer">

    <!-- Officer Information -->
    <p><strong><%= officer.name %></strong></p>
    <p class="text-muted"><%= officer.email %></p>
    <p><strong>Contact:</strong> <%= officer.contact %></p>
    <p><strong>Position:</strong> <%= officer.position %></p>
    <p><strong>Department:</strong> <%= officer.department_name %></p>
    <p><strong>Service:</strong> <%= officer.service_name %></p>
    <a data-bs-toggle="modal" data-bs-target="#uploadProfileModal">üì§ Upload Photo</a>

    <!-- Logout -->
    <form action="/logout" method="POST" class="mt-3">
      <button type="submit" class="btn btn-dark w-100">üö™ Logout</button>
    </form>
  </div>
</div>

<!-- Upload Profile Modal -->
<div class="modal fade" id="uploadProfileModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <form action="/upload_profile" method="POST" enctype="multipart/form-data">
        <div class="modal-header">
          <h5 class="modal-title">Upload Profile Picture</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <input type="file" name="profile_pic" class="form-control" required>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-orange">Upload</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Footer -->
<footer class="text-center text-lg-start text-white mt-5" style="background-color: #0d47a1;">
  <div class="container p-4">
    <div class="row">

      <!-- Contact Info -->
      <div class="col-lg-6 col-md-12 mb-4 mb-md-0 text-start">
        <h5 class="text-uppercase fw-bold">Contact Us</h5>
        <p>
           üìç 223 Arg St, Kabul, Afghanistan<br>
          üìû +1 (437) 876-0809 <br>
          üìß support@govportal.com
        </p>
      </div>

      <!-- Social Media -->
      <div class="col-lg-6 col-md-12 mb-4 mb-md-0 text-end">
        <h5 class="text-uppercase fw-bold">Follow Us</h5>
        <a href="#" class="text-white me-3">
          <i class="fab fa-facebook fa-lg"></i>
        </a>
        <a href="#" class="text-white me-3">
          <i class="fab fa-twitter fa-lg"></i>
        </a>
        <a href="#" class="text-white me-3">
          <i class="fab fa-instagram fa-lg"></i>
        </a>
        <a href="#" class="text-white me-3">
          <i class="fab fa-linkedin fa-lg"></i>
        </a>
      </div>
    </div>
  </div>

  <!-- Bottom Bar -->
  <div class="text-center p-3" style="background-color: rgba(0,0,0,0.2);">
    ¬© <%= new Date().getFullYear() %> E-Government Portal. All rights reserved.
  </div>
</footer>

<!-- Bootstrap & Icons -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">


</body>
</html>
